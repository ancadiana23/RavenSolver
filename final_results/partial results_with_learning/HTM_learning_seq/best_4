    """
    Define, train and test a network of spatial pooler and temporal memory layers
    """
    # dimenstions
    num_colls1 = len(problems[0]['Input'][0])
    num_colls2 = 2048

    #num_colls2 = min([num_colls1, num_colls3]) + abs(num_colls1 - num_colls3) / 2

    # layers
    sp1 = SpatialPooler(inputDimensions=(num_colls1, ),
                        columnDimensions=(num_colls2, ),
                        numActiveColumnsPerInhArea=-1,
                        localAreaDensity=0.05)
    '''
    sp2 = SpatialPooler(inputDimensions=(num_colls2, ),
                        columnDimensions=(num_colls3, ),
                        numActiveColumnsPerInhArea=-1,
                        localAreaDensity=0.05)
    '''
    #print(num_colls1, num_colls2, num_colls3)

    #minThr = int(numColls1 ** 0.33 / 2) + 3
    #actThr = int(numColls1 ** 0.33 / 2) + 3

    print(minThr, actThr) # 10 10
    bckTM = BTM(numberOfCols=num_colls2, cellsPerColumn=15,
                initialPerm=0.5, connectedPerm=0.5,
                minThreshold=minThr, newSynapseCount=10,
                activationThreshold=actThr,
                pamLength=10)

    layers = [(sp1, sp_compute),
              (bckTM, bk_tm_compute)]

    #layers = [(bckTM, bk_tm_compute)]

    #train_first_row(layers, problems)
    train(layers, problems)
    test(layers, problems)

===================================================
for i in np.random.permutation(len(problems)):
===================================================


---------------------- Agent ------------------------

(10, 10)
[ 0.99295773  0.98550733  0.          0.99999996  0.99166672  1.00000002
  0.99999996  1.00000003  0.99999993  1.00000002  0.9950494   1.
  1.00000011  1.00000001  1.00000001  0.99999989  0.98611099  0.99999991
  1.00000003  0.99999998  0.94736836  0.26262189  0.          0.99999993
  0.52309316  0.99999993  0.99999997  0.99509807]
(26, 28)
88.1409760881

real	19m5.373s
user	16m23.016s
sys	0m1.740s
anca@Blue:~/Current_Semester/Licenta/RavenSolver$ time python2 main/agent.py
(10, 10)
[ 0.99476441  0.97777772  1.00000001  0.87222224  0.          1.00000004
  0.99999993  0.97354503  0.99038456  0.          0.99576271  0.99346399
  0.9917355   0.99999998  0.99453549  0.99567099  0.99425287  0.99999995
  0.98857142  0.99999994  0.99350649  0.99512186  0.          0.99450552
  0.9044402   0.99038456  0.99099101  1.00000006]
(25, 28)
87.9701303019

real	18m28.765s
user	16m38.504s
sys	0m2.184s

(10, 10)
[ 0.96868327  0.88009707  0.99999998  0.99290784  0.97088088  0.99435028
  1.00000001  0.99999997  0.99158794  0.99999997  0.98657719  0.99999988
  1.00000001  0.99310331  0.99999998  1.00000004  1.00000005  0.98381375
  1.00000002  0.96185673  0.99999997  1.00000004  0.99454106  0.96296297
  0.99999999  0.99158794  0.98813664  1.00000007]
(28, 28)
98.7895957859

real	16m35.529s
user	15m37.036s
sys	0m1.576s


---------------------- SDRs ------------------------

(10, 10)
[ 0.9913043   0.83060089  0.95061729  0.97142851  0.98876406  0.95061722
  0.98863639  1.00000001  0.98969069  0.95384615  0.94444445  0.99029127
  0.99999996  0.96590912  0.96428566  0.96666669  0.95792797  0.9821428
  0.98936167  1.          0.98936167  0.99038456  0.98095242  0.9903838
  0.9777778   0.98969069  0.95121948  0.99999992]
(28, 28)
97.3082337262

real	21m20.995s
user	18m31.596s
sys	0m2.092s
anca@Blue:~/Current_Semester/Licenta/RavenSolver$ time python2 main/agent.py --data sdrs
(10, 10)
[ 1.00000003  0.99999994  0.9256652   0.97590365  0.99999999  0.97826089
  0.99999995  1.00000001  0.99999996  0.97674418  0.98795185  0.96250001
  1.00000002  0.99082565  0.95774652  0.95698916  0.98113219  0.99999994
  0.92000007  0.94153912  1.00000001  0.96875003  0.97959191  0.980198
  0.98130838  0.99999996  1.00000004  0.98823524]
(28, 28)
98.0476496808

real	19m28.993s
user	17m38.160s
sys	0m2.184s

(10, 10)
[ 0.95272729  0.99065417  0.97777772  0.92791455  0.99999998  0.84895078
  1.00000001  0.89558469  1.          0.98632014  0.99056605  0.896828
  0.86153397  0.          0.96460177  0.83864368  0.9897959   0.99999998
  0.62768591  0.98180747  0.95833328  0.99056605  0.89996237  0.99999994
  0.98611112  1.          0.99082565  0.98264506]
(27, 28)
91.2136982727

real	19m10.615s
user	17m58.016s
sys	0m2.504s

---------------------- Symbolic ------------------------

(10, 10)
[ 0.99259258  1.00000001  0.9754601   0.          0.          1.00000002
  0.          0.69987513  0.99999995  1.00000003  0.          0.99999994
  1.          0.          0.99999997  1.00000004  0.          1.00000011
  0.          0.88829784  0.90000001  0.          0.          0.
  0.99999995  0.          1.          0.87582581]
(17, 28)
58.3287553895

real	27m1.692s
user	24m11.164s
sys	0m2.592s
anca@Blue:~/Current_Semester/Licenta/RavenSolver$ time python2 ./main/agent.py --data symbolic
(10, 10)
[ 0.          0.          0.9939217   0.99999994  0.83928566  0.99337741
  0.          0.          0.85920259  0.          0.          1.00000002
  0.          1.00000002  1.00000003  0.          0.          0.
  0.99999995  0.84615387  0.99999994  0.          0.59999996  0.
  0.85920259  0.99355225  0.          1.00000003]
(15, 28)
49.9453427702

real	22m54.022s
user	20m57.028s
sys	0m2.72
